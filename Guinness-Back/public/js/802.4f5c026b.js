"use strict";(self["webpackChunkguiness_front"]=self["webpackChunkguiness_front"]||[]).push([[802],{5802:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PostAddForm")],1)},l=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[a("div",{staticClass:"input__wrapper"},[a("label",{attrs:{for:"title"}},[t._v("제목")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{id:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),a("div",{staticClass:"input__wrapper"},[a("label",[t._v("분류")]),a("div",{staticClass:"select__wrapper"},[a("div",{attrs:{id:"select-1"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected1,expression:"selected1"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected1=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[t._v("대분류")]),a("option",{attrs:{value:"1"}},[t._v("체육")]),a("option",{attrs:{value:"2"}},[t._v("음식")]),a("option",{attrs:{value:"3"}},[t._v("춤")]),a("option",{attrs:{value:"4"}},[t._v("노래")]),a("option",{attrs:{value:"5"}},[t._v("공예")]),a("option",{attrs:{value:"6"}},[t._v("사회 캠페인")]),a("option",{attrs:{value:"7"}},[t._v("오락")])])]),a("div",{attrs:{id:"select-2"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected2,expression:"selected2"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected2=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[t._v("소분류")]),a("option",{attrs:{value:"1"}},[t._v("체육")]),a("option",{attrs:{value:"2"}},[t._v("음식")]),a("option",{attrs:{value:"3"}},[t._v("춤")]),a("option",{attrs:{value:"4"}},[t._v("노래")]),a("option",{attrs:{value:"5"}},[t._v("공예")]),a("option",{attrs:{value:"6"}},[t._v("사회 캠페인")]),a("option",{attrs:{value:"7"}},[t._v("오락")]),a("option",{attrs:{value:"etc"}},[t._v("직접 입력")])])])])]),"etc"==this.selected2?a("div",{staticClass:"input__wrapper"},[a("label",[t._v("직접 입력")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected2Input,expression:"selected2Input"}],attrs:{placeholder:"소분류 직접입력",id:"input-etc"},domProps:{value:t.selected2Input},on:{input:function(e){e.target.composing||(t.selected2Input=e.target.value)}}})]):t._e(),a("div",{staticClass:"input__wrapper"},[a("label",{attrs:{for:"content"}},[t._v("소개")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{rows:"5",id:"content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),a("div",{staticClass:"input__wrapper"},[a("label",{attrs:{for:"file"}},[t._v("첨부파일")]),a("input",{attrs:{id:"file",type:"file"},on:{change:t.onImageChange}}),t._l(t.uploadimageurl,(function(t,e){return a("v-img",{key:e,staticStyle:{border:"2px solid black","margin-left":"100px"},attrs:{src:t.url,contain:"",height:"150px",width:"200px"}})}))],2),a("button",{staticClass:"btnInActive",class:{btnPrimary:t.isValid},attrs:{disabled:!t.isValid,type:"submit"}},[t._v(" 작성 ")])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("h1",[t._v("게시글 작성")])])}],o=a(866),r={data(){return{title:"",selected1:"대분류",selected2:"소분류",selected2Input:"",content:"",uploadimageurl:[],imagecnt:0}},computed:{isValid(){return!!(this.title&&this.content&&this.selected1&&this.selected2)}},methods:{async submitForm(){try{console.log("게시글 작성 폼 제출");const t=await(0,o.qb)({title:this.title,selected1:this.selected1,selected2:this.selected2,newSelected2:this.selected2Input,content:this.content});console.log(t)}catch(t){console.log(t.message)}finally{this.$router.push("/"),this.initForm()}},initForm(){this.title="",this.selected1="",this.selected2="",this.selected2Input="",this.content="",this.userBirth=""},async onImageChange(t){try{if(!t)return;const e=new FormData;this.uploadimageurl=[],t.forEach((t=>{e.append("filelist",t);const a=new FileReader;a.onload=t=>{this.uploadimageurl.push({url:t.target.result})},a.readAsDataURL(t)}));const{data:a}=await(0,o.Ix)({data:e});console.log(a),this.imagecnt=t.length}catch(e){console.log(e.message)}}}},c=r,u=a(3736),p=(0,u.Z)(c,n,i,!1,null,null,null),d=p.exports,v={components:{PostAddForm:d}},m=v,_=(0,u.Z)(m,s,l,!1,null,null,null),h=_.exports}}]);
//# sourceMappingURL=802.4f5c026b.js.map