"use strict";(self["webpackChunkguiness_front"]=self["webpackChunkguiness_front"]||[]).push([[449],{449:function(t,e,a){a.r(e),a.d(e,{default:function(){return _}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("post-edit-form")},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[a("div",{staticClass:"input__wrapper"},[a("label",{attrs:{for:"title"}},[t._v("제목")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.postData.postTitle,expression:"postData.postTitle"}],attrs:{id:"title"},domProps:{value:t.postData.postTitle},on:{input:function(e){e.target.composing||t.$set(t.postData,"postTitle",e.target.value)}}})]),a("div",{staticClass:"input__wrapper"},[a("label",[t._v("분류")]),a("div",{staticClass:"select__wrapper"},[a("div",{attrs:{id:"select-1"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected1,expression:"selected1"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected1=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[t._v("대분류")]),a("option",{attrs:{value:"1"}},[t._v("운동")]),a("option",{attrs:{value:"2"}},[t._v("음식")]),a("option",{attrs:{value:"3"}},[t._v("춤")]),a("option",{attrs:{value:"4"}},[t._v("노래")]),a("option",{attrs:{value:"5"}},[t._v("만들기")]),a("option",{attrs:{value:"6"}},[t._v("캠페인")]),a("option",{attrs:{value:"7"}},[t._v("게임")]),a("option",{attrs:{value:"8"}},[t._v("기타")])])])])]),a("div",{staticClass:"input__wrapper"},[a("label",[t._v("소분류")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.postData.eventName,expression:"postData.eventName"}],attrs:{placeholder:"소분류",id:"input-etc"},domProps:{value:t.postData.eventName},on:{input:function(e){e.target.composing||t.$set(t.postData,"eventName",e.target.value)}}})]),a("div",{staticClass:"input__wrapper"},[a("label",{attrs:{for:"content"}},[t._v("소개")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postData.content,expression:"postData.content"}],attrs:{rows:"5",id:"content"},domProps:{value:t.postData.content},on:{input:function(e){e.target.composing||t.$set(t.postData,"content",e.target.value)}}})]),a("div",{staticClass:"input__wrapper"},[a("label",{attrs:{for:"file"}},[t._v("첨부파일")]),a("input",{attrs:{id:"file",type:"file"},on:{change:t.onImageChange}}),t._l(t.uploadimageurl,(function(t,e){return a("v-img",{key:e,staticStyle:{border:"2px solid black","margin-left":"100px"},attrs:{src:t.url,contain:"",height:"150px",width:"200px"}})}))],2),a("button",{staticClass:"btnPrimary",attrs:{type:"submit"},on:{click:t.submitForm}},[t._v("수정")])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("h1",[t._v("게시글 수정")])])}],i=a(9344),l={created(){this.fetchPostData()},data(){return{selected1:"대분류",postData:[],uploadimageurl:[],imagecnt:0}},methods:{async submitForm(){try{const{data:t}=await(0,i.dq)(this.$route.params.id,{postTitle:this.postData.postTitle,content:this.postData.content,eventName:this.postData.eventName,writerID:this.$store.state.userID});console.log(t)}catch(t){console.log(t)}},async fetchPostData(){try{const{data:t}=await(0,i.SD)(this.$route.params.id);console.log(t),this.postData=t}catch(t){console.log(t)}},initForm(){this.title="",this.selected1="",this.selected2="",this.content="",this.userBirth=""}}},u=l,p=a(1001),c=(0,p.Z)(u,o,r,!1,null,null,null),v=c.exports,d={components:{PostEditForm:v}},m=d,f=(0,p.Z)(m,s,n,!1,null,null,null),_=f.exports},9344:function(t,e,a){a.d(e,{Bn:function(){return l},SD:function(){return n},dq:function(){return i},fR:function(){return r},qb:function(){return o}});var s=a(866);function n(t){return s.eE.get(`post/posts/${t}`)}function o(t){return s.eE.post("post/posts",t)}function r(t){return s.eE["delete"](`post/posts/${t}`)}function i(t,e){return s.eE.put(`post/posts/${t}`,e)}function l(t){return s.eE.get(`/post/postsByCat/${t}`)}}}]);
//# sourceMappingURL=449.343b38b1.js.map