"use strict";(self["webpackChunkguiness_front"]=self["webpackChunkguiness_front"]||[]).push([[352],{8352:function(t,s,e){e.r(s),e.d(s,{default:function(){return v}});var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("login-form")},n=[],i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container login-page"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("h1",[t._v("로그인")]),e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userEmail,expression:"userEmail"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput"},domProps:{value:t.userEmail},on:{input:function(s){s.target.composing||(t.userEmail=s.target.value)}}}),e("label",{attrs:{for:"floatingInput"}},[t._v("이메일")])]),e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userPw,expression:"userPw"}],staticClass:"form-control",attrs:{type:"password",id:"floatingPassword"},domProps:{value:t.userPw},on:{input:function(s){s.target.composing||(t.userPw=s.target.value)}}}),e("label",{attrs:{for:"floatingPassword"}},[t._v("비밀번호")])]),e("br"),e("button",{staticClass:"btnInActive",class:{btnPrimary:t.isValid},attrs:{disabled:!t.isValid,type:"button"},on:{click:t.submitForm}},[t._v(" 로그인 ")]),e("router-link",{staticClass:"btnPrimary btn-signup",attrs:{to:"/signup"}},[e("button",[t._v("회원가입")])])],1)])},o=[],u=e(7386),a=e(7311),l={data(){return{userEmail:"",userPw:""}},computed:{isValid(){return!(!this.userEmail||!this.userPw)}},methods:{async submitForm(){try{const{data:t}=await(0,u.pH)({email:this.userEmail,password:this.userPw});console.log(t.token),console.log(t.user.email),console.log(t.user.userID),this.$store.commit("setUserEmail",this.userEmail),this.$store.commit("setUserID",t.user.userID),this.$store.commit("setToken",t.token),(0,a.aZ)(t.token),(0,a.EU)(t.user.email),(0,a.FG)(t.user.userID),this.$router.push("/main")}catch(t){console.log(t),this.logMessage=t}finally{this.initForm()}},initForm(){this.userEmail="",this.userPw=""}}},c=l,m=e(3736),f=(0,m.Z)(c,i,o,!1,null,"12fdc812",null),p=f.exports,d={components:{LoginForm:p}},g=d,h=(0,m.Z)(g,r,n,!1,null,"37da7539",null),v=h.exports},7386:function(t,s,e){e.d(s,{BT:function(){return o},Nq:function(){return u},a$:function(){return n},pH:function(){return i}});var r=e(866);function n(t){return r.eE.post("auth/register",t)}function i(t){return r.eE.post("auth/login",t)}function o(t){return r.eE.get(`/user/users/${t}`)}function u(t,s){return r.eE.put(`/user/users/${t}`,s)}}}]);
//# sourceMappingURL=352.59091854.js.map